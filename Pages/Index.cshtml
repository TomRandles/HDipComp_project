@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<style>

    .carousel-indicators li {
        border-radius: 50%;
        width: 12px;
        height: 12px;
        background-color: #404040;
    }

    .carousel-caption {
        position: relative;
        left: 0;
        top: 0;
    }
</style>

<div class="container d-flex flex-column">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8 border_rad text-center align-middle" id="functionsGrad">
            <p style="font-size:30px; color:cornflowerblue">Welcome to the <strong>Student Data Management</strong> site for ITG</p>
        </div>
        <div class="col-md-2"> </div>
    </div>

    <div class="bd-example">
        <div id="myCarouselCaptions" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators my-4">
                <li data-target="#myCarouselCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#myCarouselCaptions" data-slide-to="1"></li>
                <li data-target="#myCarouselCaptions" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="~/images/BusinessStudies.png" alt="Business Studies" class="d-block w-100">
                    <div style="background-color: azure; color:blue" class="carousel-caption d-none d-md-block mb-4">
                        <h5>Business Studies</h5>
                        <p class="text-center">
                            Business courses at ITG prepare students for various business related employments to include <br />
                            work in commercial and public sector organisations and accountancy related areas.
                        </p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="~/images/Art&Design.png" class="d-block w-100" alt="Art & Design">
                    <div style="background-color: azure; color:blue" class="carousel-caption d-none d-md-block mb-4">
                        <h5>Art & Design</h5>
                        <p>
                            ITG Art and Design courses offer a multi-dimensional learning experience which gives you the <br />
                            opportunity to develop your art and design concepts and ideas.
                        </p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="~/images/Hairdressing&Beauty.png" class="d-block w-100" alt="Hair Dressing">
                    <div style="background-color: azure; color:blue" class="carousel-caption d-none d-md-block mb-4">
                        <h5>Hair Dressing</h5>
                        <p>Learn current trends, techniques and innovations in a creative work and learning environment.</p>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#myCarouselCaptions" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#myCarouselCaptions" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>

<div class="container">
    <div style="background-color: azure">
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle border-blue" id="functionsGrad">
                <a asp-page="/RegisterStudent" asp-area="StudentPages"><strong>Register Student</strong></a>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/ListStudents" asp-area="StudentPages"><strong>List Students</strong></a>
           
            </div>
            <div class="col-md-2"> </div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle border-blue" id="functionsGrad">
                <a asp-page="/CreateProgramme" asp-area="ProgrammePages"><strong>Create Programme</strong></a>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/ListProgrammes" asp-area="ProgrammePages"><strong>List Programmes</strong></a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/CreateModule" asp-area="ModulePages"><strong>Create Module</strong></a>
            </div>
            <div class="col-md-2"> </div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/AddModuleToProgramme" asp-area="ModulePages"><strong>Add Module To Programme</strong></a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/SearchStudentDetails" asp-area="StudentPages"><strong>Search Student Details</strong></a>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/SendStudentMessage" asp-area="StudentPages"><strong>Send Student Message</strong></a>
            </div>
            <div class="col-md-2"> </div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>

            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/CreateAssessment" asp-area="AssessmentPages"><strong>Create Assessment</strong></a>
            </div>
            <div class="col-md-2"></div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/ListAssessmentResults" asp-area="AssessmentResultPages"><strong>List Assessment Results</strong></a>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/ListProgrammeModules" asp-area="ProgrammePages"><strong>List Programme Modules</strong></a>
            </div>
            <div class="col-md-2"></div>
        </div>
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/RegisterTeacher" asp-area="TeacherPages"><strong>Register Teacher</strong></a>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-3 border_rad text-center align-middle" id="functionsGrad">
                <a asp-page="/ListTeachers" asp-area="TeacherPages"><strong>List Teachers</strong></a>
            </div>
            <div class="col-md-2"> </div>
        </div>
    </div>
    <br />
    <div class="container" style="background-color:beige; margin:auto; padding:20px;">
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-4">
                <br />
                <h3>Today's weather </h3>
                <p>@DateTime.Now.ToShortDateString()  @DateTime.Now.ToShortTimeString()</p>
                <br />
                <p id="GetWeather"></p>
                <br />
            </div>
            <div class="col-md-3"></div>
            <div style="height:300px; width:500px" class="col-md-4" id="map-canvas"></div>
        </div>
    </div>
</div>

<script type="text/javascript" src="~/js/OpenWeatherMapGoogleMap.js">
</script>

<script>
        function GetLocalWeather(cityID) {

            var gettingData = true;
            var APIKey = "@Model.OpenWeatherMapAPIKey";
            var requestString = "https://api.openweathermap.org/data/2.5/weather?id=" + cityID
                + "&cluster=yes&format=json"
                + "&APPID=" + APIKey
                + "&units=metric";

            var request = new XMLHttpRequest();
            request.onload = proccessWResults;
            request.open("get", requestString, true);
            request.send();
            return "GetLocalWeatherReturn";
        };

        var proccessWResults = function () {

            var results = JSON.parse(this.responseText);
            document.getElementById("GetWeather").innerHTML = results.name + "\'s weather today: " + results.weather[0].description + ", temperature: " + results.main.temp + " °C, humidity: " + results.main.humidity + " %, windspeed: " + results.wind.speed + " Km/h.";
        };

</script>

<script>

        document.getElementById("GetWeather").innerHTML = window.GetLocalWeather(@Model.OpenWeatherMapsCityID);
        var string = "";
        window.loadMap();

        function loadMap() {
            var key = "@Model.GoogleMapsAPIKey";
            var script = document.createElement('script');
            script.type = 'text/javascript';
            string = '{\"latitude\":' + @Model.GoogleMapsLatitudeCoordinate + ',\"longitude\":' + @Model.GoogleMapsLongitudeCoordinate + '}';
            script.src = "https://maps.googleapis.com/maps/api/js?key=" + key + "&callback=initMap";
            document.body.appendChild(script);
        }

</script>
